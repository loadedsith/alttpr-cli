#!/usr/bin/env bash

echo "
..............................,=:==..........................................................................................................................................................................................................................................................................................................................
..............................:~==~,.........................................................................................................................................................................................................................................................................................................................
..............................~~+=~,.........................................................................................................................................................................................................................................................................................................................
..............................,+I?+..........................................................................................................................................................................................................................................................................................................................
...............................~~~:..........................................................................................................................................................................................................................................................................................................................
...............................~~~:..........................................................................................................................................................................................................................................................................................................................
...............................~~~:..........................................................................................................................................................................................................................................................................................................................
...............................~~~~..........................................................................................................................................................................................................................................................................................................................
...............................~~~~..........................................................................................................................................................................................................................................................................................................................
...............................~~~~..........................................................................................................................................................................................................................................................................................................................
...............................~~~=..........................................................................................................................................................................................................................................................................................................................
...............................~~:=..........................................................................................................................................................................................................................................................................................................................
..............................,?=+7..........................................................................................................................................................................................................................................................................................................................
..........................,?777?==7I77~......................................................................................................................................................................................................................................................................................................................
........................:777I?I?+++=+I7I+....................................................................................................................................................................................................................................................................................................................
.......................I7??II??++?+===~=I7:..................................................................................................................................................................................................................................................................................................................
..............,,...,,:I=+++?IIII+++===~~~=II.................................................................................................................................................................................................................................................................................................................
........,,,,,,,,,,,,,I=+++??=,==??I~,~~~~=+?=................................................................................................................................................................................................................................................................................................................
.....,,,,,,,,,,,,,,.+~==+?=.,,=+=+I~..,~~~+?I................................................................................................................................................................................................................................................................................................................
...,,,,:::::::,::::,~==++~,,,:=++?I=...,~=+??..,,,.,...,,....................................................................................................................................................................................................................................................................................................
..,,,,:~+~~~~~~=+?I?=~====IIIII=???I=II7==+=~~??+~:,,....~.................................................................................................................................................,.................................................................................................................................................
,,,:::~=7777IIIIII?+??I?+II?+I?+=+?I~++II?+?????II7IIIIII+..,,,..............................................................................................................................................,...............................................................................................................................................
,,,,::~~77III?I77I7IIIII?????I?+=+?I~??????II7I7III?=I7?=+..........................,........................................................................................................................,...............................................................................................................................................
,,,,::::77777?II++?+++=++???+I?+=+?I~+I??++=++++=+I~+IIII+..........................,........................................................................................................................................................................................................................................................................
.,,,,,::777+=+++++++=+++=======+++?????77II?+=?II?=~===?I+...................................................................................................................................................................................................................................................................................................
.,,,,,,,777I?=:~~~====~~==~====~~========+?I?=??I?~+==+?I+..........................,..,.....................................................................................................................................................................................................................................................................
.,,,,,,,777I7II+:::==::::~::::::,,,,,:~=++=++?+???+:+I+?I+..........................,..,.....................................................................................................................,...............................................................................................................................................
..,,,,,.77I??I77~::+++:,:+++~~~~:::,,,,:::~++++?=?+?~=+?I+..........................,........................................................................................................................................................................................................................................................................
...,,,,.III?IIII:::+++~::++??7?+==++:,,,,::::+++?:++?:=+?+...................................................................................................................................................................................................................................................................................................
.....,,.I+I+II?I~::++=~:,++??I?+=~,7:?~,,,::::=?+?~++?:+=+...................................................................................................................................................................................................................................................................................................
........I7???=I7:::++~+,,++?+I,:~=?I:II:,,,::::+++++~?++7+...................................................................................................................................................................................................................................................................................................
........I7=+????:,:++=I,,++?+7?+~::I:?I?,,,::::~++?~?++~I+..............................................................................................................:~===~:..............................................................................................................................................................................
........III~???I::~+?=7,,=+?+7+=~=~I:?I7,,,:::::++?~++:?7+...~:=~~=~~~~~~+...........:~~~=~~~~~=+.......:~~=~~~~~~~~==..,~:~=~~~~~~~~~==+=~.........................~~,::~~~~====+:..........~:~==~~~~~~~~~=~..........:~~~~~~~~~~=~+...:~~=~~~~~~~~~~=~?,.....:~~~~~~=~~~~~~~~~~~~~~~~~=,..:~:~=~~~~~~~~~~~~~~~~~~~~~?...::~~=~~~~~~=~~~~~==++=~,...........
........III+~I??:,~=?+7:,=+?=7?=~==I:+II,,,:::::++?~?,+?I+....,:,,:~~~~~++=............:,,,:~~~++?.......,:,,:~~~~:::.....:,,::~~~~~~:::~====?~..................,:,,:::,,,,,,,,===++..........,,,:~~~~~~~~+?.........,,,~~~~~~~~,~,.....,:,,:~~~~~~~:~~.......,,~~::::::::::::~~~~~~~=~=.....:,,:~~~~~~~~~::~~::~~~=++.....:,,::~~~~~~::::::~~~~==+?,.......
........II?+==I=~:~=??7:,~+?=I?+=++I:+?=,,,:::::==?=:=+?I+......,,,,:::~++I..............:,,,::+???........,,,,~==~.........:,,,:::=~::,,,,:==+++...............:,:,::::~,...,:,,,+++?~.........,,,,::::::+++~........:,,:::::===:.........,,,,:::==~~........,,,::,,,,,,,,,,,,,::::~~~+........:,,::::~:,,,,,,,,,,,=+?.......:,,::::==::::,,,,,,:===++~.....
........??+++??+:,=+?I7:,~+?=7?+~=?I:+=,,,:::::~==~=++=+?=......:,,,::::+++:.............:,,,:::=+++,.......,,,+++..........,,,,::~++?...,:,,,~+++I,..........,,,,:~~~=.........,,,:+++?.........,,,:::::::++?.......:,,,:::::+++...........,,,:::=++,........,,:~,..........,,,:::~=~+.........:,,:::~==?.......,,,,+?.......:,,,::~++?.......,,,,,~=++?,...
........7I++?+?+:,:?+?:,,+=?=7?+~=?I~:,,,::::::~~+:?+?=+I+......,,,:::::~++?.............:,,,::::=+?+,......,,,+++..........,,,,::~++?.....,,,,,++++~........,,,,:~~~+...........,,,:=++?........,,,:::::::=+++......,,,::::::+++...........,,,:::=++,.......,,:=...........:,,,::~~~+..........:,,:::~+++........,,,=?.......:,,,::~++?........,,,,::=+??...
........I7?++=??:,,++=:,:+++=7?+~=+I::::::::::::+:+?~+=?I+.....,,,,,,::::++?.............:,,,:::::=++?~.....,,,+++..........,,,,::~++?......,,,,:~+?+~.......,,,::===,...........:,,,:+++?.......,,,::::::::++?.....,,,,::::::+++...........,,,:::=++,.......:~:...........,,,,:::~~=:..........:,,,::~++?.........,,:?.......:,,,::~++?.........:,,:::+++:..
........77?+??I?,,,~:~,,,++=~7I+~=+I:::::::,:::=~=+I?++?I+.....:,::,,,,::=++=............:,,,::::::~+++=....,,,+++..........,,,,::~++?.......:,,,:~++?......:,,,:~==?.............,,,::?++~......,,,:::,,:::=+++....:,,:::::::+++...........,,,:::=++,.......=............,,,,:::~~~=...........:,,,::~++?..........,,?.......:,,,::~++?.........,,,,::=+==..
........I7?+?II7:,:~=~+,,,==~7I+~=+I::,,,,,,:=,=?7III?=?I+....,.,==~,,,::~++?............:,,::,,,,::~+++=...,,,+++..........,,,,::~++?........,,,::=?+?....,.,,::~==~.............:,,::~++?......,,,::,,,,:::+++....,,,,,,,:::=++...........,,,:::=++,....................,,,,::~~~+............:,,,::~++?...........:+.......:,,,::~++?.........:,,,::~=+=..
........II?+I777:,=++?7~,,,,,7I+=++7~:,,,:~~~+?+?I7III+?I+....:,:=+.:,,:::+++,...........:,,~==,,,,::~++++..,,,+++..........,,,,::~++?........,,,,::+++:...,,,:::===,......,......:,,:::+++,.....,,,=+=,,,,::=+++..,,,=~,,,:::+++...........,,,:::=++,...................,,,,::~~~+.............:,,:::~++?......~,....=.......:,,:::~++?.........,,,:::~==,..
........I7?+I7II~,:?+?:,,~:,,7I+=+?I=++,:~+I7II?=?IIII+?I+...,,,==?.:,,,::=+++...........:,,~++,:,,,:::??++.,,,+++..........,,,,::~++?.........,,,::~+++...,,,:::==+......,+......,,,,::=+++.....,,,==+,:,,::~++?..,,~=+,,,,::+++...........,,,:::=++,..................,,,,:::~~~,.............:,,:::~++?.....,=,............:,,,::~++?.......,,,,,:::~~+...
........???+77I+:,,?+=:,:+++:77?=+?I=++?=+?II7I??=?I77++?=...:,,==,..,,,:::++?...........,,,~==,.:,,,::~++++,,,+++..........,,,,::~++?.........:,,:::++?...,,,:::=+?.....,,+?.....,,,,::~++?.....,,,=++,:,,,::=+++:,,==~:,,,::+++...........,,,:::=++,.................,,,,:::~=~=..............:,,:::~+=+...,,:+,............:,,,::~+++..:~==::,,,::::,=....
........I??=II?+:,,~~~,,,++?+77?=+?I~++++=+?IIII?+=?I7+??+...,,~=+...:,,:::+++:..........,,,~==,..:,,,:::++=,,,+++..........,,,,::~++?.........:,,:::++?..,,,,:::++?....,,,++?....,,,,:::++?.....,,,=++,.,,,:::+++,,~=+.:,,,::+++...........,,,:::=++,.................,,,,::~~~+...............:,,::::++=~~~::=+,............:,,,:::++=~:::::::,,,,,,~:.....
........II?=I?=+:,:~=~~,,=+??77?=+?7:~+++==+II7I?+++?I+?I+..:,,===...,,,,::~++?..........,,,~+=,...,,,,:::~~:::+++..........,,,,::~++?.........:,,:::+++..,,,,:::++?...,,,,~==I...,,,,:::++?.....,,,=++,.:,,,::=+=::===.:,,,::+++...........,,,:::=++,................:,,,::~~~+................:,,::::~,,,,,,,++,............:,,,::::::,:~~::~:,,,::........
........II?+?=+?:,=++=?~,~+??77I+??7:::+++I=?II7I?++=?=?I+..,,~==.....,,,:::++?,.........,,,~+=,.....:,,,::::::+++..........,,,,::~++?.........,,,:::==?...,,,:::++?.....,,:~+....,,,,::~==?.....,,,=++,..:,,,:::::==+..:,,,::+++...........,,,:::=++,...............,,,,:::~~+.................:,,:::~+=+.,.,,:+,....,.......:,,,::~==:,:,:::++?,...........
........II?+=++?:,~+?=I:,~+??77I+?I7::::+++I=?I7II?++=+?I+.:,,++=~~~~~,,,:::=++=.........,,,~+=,......~,,,:::::+++..........,,,,::~++?.........,,,::~==?...,,,:::+++.....,,:+.....,,,,::~==+.....,,,=++,..,,,,::::~==~..:,,,::+++...........,,,:::=++,..............,,,,:::~~~,.................:,,:::~++?.....,=,....+.......:,,,::~++?:.,,::~++?,..........
........7I?++++I:,~+?=?,,=+??777?II7:::::+++?+II7I?++=+?I+.,,,,,,:,,,,,,,::::++?.........:,,~+=,.......:,,,::::+++..........,,,,::~++?........,,,,::~===...:,,:::+++,......+......,,,,::===~.....,,,=++,...:,,,::~==?...,,,,::+++...........,,,:::=++,.............,,,,:::~=~=...........,......:,,,::~++?......~....,+.......:,,,::~++?.:,,,::=+++..........
........I7I+++?I:,:+?~+,,=++?777?I77,::::~+++??IIII?+=+II+,,,~~,,,,,,,,,,,:::+++:........:,,~+=,........:.,,:::+++..........,,,,::~++?........:,,:::~==....,,,,::=++~.............:,,:::==+......,,,=++,....,,,::~==~...,,,,::+++...........,,,:::=++,.............,,,,::~~~+...........,=......:,,,::~++?...........,?.......:,,,::~++?..:,,,::=++?.........
........?++++??I:,:++~~,,++?+777I777:,::::~?+++?I7I??++++=,,,==~.......:,,,::~++?........:,,~+=,.........:,,,,:+++..........,,,,::~++?.......,,,,::~~~=.....,,,::~+++.............,,,::~~=+......,,,=++,....:,,::==+....,,,,::+++...........,,,:::=++,............:,,,::~~~+...........,~,......:,,,::~++?..........:,?.......:,,:::~++?...:,,,::=++?........
........77I++?I7:,,++~~,,=+++77I?777,,,::::~++?+IIII?++II+,,~=+........,,,,:::++?........,,,~+=,..........,,,,:+==..........,,,,::~=+?.......,,,::::~+......,,,,::++?............,,,,::~~=.......,,,=++,.....,,,~===....,,,,::+++...........,,,:::+++,...........,,,,::~~~~:..........,:+.......:,,,::~++?..........,~?.......:,,,::~++?....:,,,::=++?.......
........I7?+?II7:,,+++~,,++?+77I?777:,,,::::~+++=I7II++?7:,,==+.........,,,:::=++=.......,,,~+=,...........,,,,=++..........,,,,::~++?.....,,,,,:::~=........:,,,:+++=...........,,,::~~~:.......,,,=++,.....:,,~=+.....:,,,::=++...........,,,:::=++,...........,,,:::~~~=..........,,=+.......:,,,::~++?.........:,=?.......:,,,::~++?.....:,,,::+++I......
........I7?+?I77:,,++?:,,+++=77?+I77~:,,,::::~++++7II?+II,,~==,.........:,,,::~++I.......,,,~+=,.............,,,++..........,,,,::~++?....,,,,,::::+..........,,,,:++?,.........,,,,:::~=........,,,=++,......,,~=+.....:,,,::+++...........,,,:::+++,..........,,,,::~~~+..........:,:==.......:,,,::~++?........,,,++.......:,,:::~++?......,,,,::++??.....
........I7?=II7?:,,++?,,,+++=7I?+I77~I,,,,::::~?+??II?+I:,,==+..........,,,,:::+++,......,,,~++,..............:.=+,.........,,,,::~++?..::,,,,::::=............,,,,~?+?:.......,,,,::::~.........,,,=++.......:,~=......,,,,::+++...........,,,:::==+,.........,,,,:::==+..........:,,==,.......:,,:::~+++,...,.,,,,~+?.......:,,:::~++?.......:,,,::+++?....
........I7?+I7I~,,,=?=:,,+?+?II?+?77:I?,,,,::::~+?+?I?+=,,:++~...........,,,:::~++?,....,,,,~?+?...............,,+.........,,,,,:::++=~:,,,,,,,:=...............:,,,,+++++~:~~,,,,::,=,.........:,,,=?++.......,~+.....,:,,,::=?++.........,,,,:::=?++........,,,,:::~++=======~~~~,,==+.......,:,,,:::+?=~~~~~:~:,,=+?......:,,,,:::+?+~......,,,,,::+?++...
........II??=,,,,,,,,,,,,,,,,~+?=?I7~777:,,,,,,,,,,:=~,,,,,,,~=?.,.....,,,,,,,,,,,,=?,:,,,,,,,,,=?,.............:~,......,:,,,,,,,,,,,,,,,,::,.....................:,,,,,:~::,,,,:::..........~,,,,,,,,,=?,....,=....:,,,,,,,,,,,:=I.....:,,,,,,,,,,,:~?:....,,,,,,,,,,,,,,,,,,,,,,,,,~=.....:,,,,,,,,,,,,,,,,,,,,,,,:?....,:,,,,,,,,,,,~+?......:.,,,,,,:~+=
........:+=+~:::::::::::::::::::~+I7~7777~::::::::::,::::,,,,.,.,,....,.,.,,,..,,,,,,.,,,,,,,,,,,,,,.............:,.....,.,,,,,,,,,.,,,..............................,::,,,,,,,::............,,,,,,,,,,,,,,,....=...,,,,,,,,,,,,,,,,,,...,.,,,,,,,,,.,,,,,...,,,,,,,,,,,,,,,,,,,,,,,,,,,....,,,,,,,,,,,,,,,,,,,,,,,,,,,...,.,,,,,,,,,,,,.,,~......,,,,,,,,,..
.........=II7?===========+I7?I?+=+?7~77777I??++++++=?777~....................................................................................................................................................................................................................................................................................................
..........:II77++=======+?II?I?+=+?7:77777II??++?++777I:.....................................................................................................................................................................................................................................................................................................
............?777I++=====+?II?I?+=+?7:I77IIIII????7777?.........................................................................................................................................................................................................................................................................,.,,..,.....,.,...............
.............:77?+I++===+?II?I?+=+?7:I77IIIIII?7??7I:.........................................................................................................,.................................,......................................,..................................................................................................,,.................
...............=I777I+==+?7I?I?+=+?7:?77I??II77777=......................................................,....................................,........................................................................................,...................................................................................................,.................
.................+I7777?+=?I?I?+==?7:?7I???77777+.............................................................................................,...............,............,...........................................................,...............................................................................,...................,..........,......
...................=I7I777+=+7?+==+I:+++I77777I,..............,.............................................................................................................................................................................................................................,........,,.......,..............................................
......................~I+=77II?+==+I:I77?+7+.................................................................................................................................................................................................................................................................................................................
.........................=77II?+==?I~II7?,...................................................................................................................................................................................................................................................................................................................
...........................,+7?+==?I~?:......................................................................................................................................................................................................................................................................................................................
.............................I?+==?I.........................................................................................................................................................................................................................................................................................................................
.............................I?+==?7.........................................................................................................................................................................................................................................................................................................................
.............................+?+==?7.........................................................................................................................................................................................................................................................................................................................
.............................=?+==?I.........................................................................................................................................................................................................................................................................................................................
.............................,?+==++.........................................................................................................................................................................................................................................................................................................................
..............................?+~=?,.........................................................................................................................................................................................................................................................................................................................
..............................~+~+?..........................................................................................................................................................................................................................................................................................................................
...............................=~+...........................................................................................................................................................................................................................................................................................................................
................................=:...........................................................................................................................................................................................................................................................................................................................
"
exit
echo "
A Link to the Past: Randomizer
by Veetorp, Karkat, Christos0wen, Smallhacker and Dessyreqt
alttpr.com/en/daily

this script by loadedsith

github.com/loadedsith/alttpr-cli"




if [[ -z "${ALTTPR_SNES_ROMS}" ]]; then
  SNES_ROM="/home/pi/RetroPie/roms/snes"
else
  SNES_ROM="${ALTTPR_SNES_ROMS}"
fi

if [[ -z "${ALTTPR_BUILD_FLAGS}" ]]; then
  BUILD_FLAGS="-t random"
else
  BUILD_FLAGS="${ALTTPR_BUILD_FLAGS}"
fi

if [ -d "$SNES_ROM" ]; then
  cd $SNES_ROM;
fi
echo "
Working directory: $SNES_ROM
"
npx -p github:loadedsith/alttpr-cli -c "alttpr-cli check && echo '' && alttpr-cli update && echo '' && alttpr-cli build $BUILD_FLAGS && echo '' "

echo "
Rom built!
Waiting 10 seconds so you can see what you're up against!
"

sleep 10s

echo "
Restarting emulation station.
"

sleep 3s

touch /tmp/es-restart
killall -e "/opt/retropie/supplementary/emulationstation/emulationstation"
sleep 3s

emulationstation &
